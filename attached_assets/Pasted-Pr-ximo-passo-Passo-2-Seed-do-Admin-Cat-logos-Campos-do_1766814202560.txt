PrÃ³ximo passo (Passo 2): Seed do Admin â€” CatÃ¡logos + Campos do Sistema + ValidaÃ§Ãµes
2.1 Seed dos CatÃ¡logos (criar primeiro)

Crie estes catÃ¡logos no teu Admin, com slug/ID estÃ¡vel (nÃ£o use sÃ³ texto).

A) catalog_products

Cada item com: slug, name, bp_segment, active=true

performance | Performance | performance

creators | Creators | creators

social_media | Social Media | social

gestao_comunidade | GestÃ£o de Comunidade | community

agente_ia | Agente IA | others

blog_post | Blog Post | others

broadcast | Broadcast | others

crm_vendas | CRM de Vendas | others

cro_alteracao | CRO & AlteraÃ§Ã£o | others

dashboard | Dashboard | others

ecommerce | Ecommerce | others

estruturacao_comercial | EstruturaÃ§Ã£o Comercial | others

estruturacao_estrategica | EstruturaÃ§Ã£o EstratÃ©gica | others

gameplan | Gameplan | others

gestao_atendimento | GestÃ£o & Atendimento | others

id_visual | ID Visual | others

landing_page | Landing Page | others

pacote_artes_rotulos | Pacote Artes / RÃ³tulos | others

regua_automacao | RÃ©gua de AutomaÃ§Ã£o | others

seo_full | SEO Full | others

site | Site | others

sustentacao | SustentaÃ§Ã£o | others

B) catalog_plans

starter Starter

scale Scale

enterprise Enterprise

personalizado Personalizado

projeto_pontual Projeto Pontual

antigo Antigo âš ï¸ (active=true por enquanto)

C) catalog_squads

Crie com is_off=false (depois vocÃª ajusta)

squadra âš“ï¸ Squadra

makers âš¡Makers

pulse ğŸ’  Pulse

tech ğŸ–¥ï¸ Tech

selva ğŸª– Selva

hunters ğŸ¹ Hunters

supreme ğŸ‘‘ Supreme

squad_x ğŸ‘¾ Squad X

aurea ğŸŒŸ Aurea

chama ğŸ”¥ Chama

turbo_interno ğŸš€ Turbo Interno

bloomfield ğŸ—ï¸ Bloomfield

(Se vocÃª quiser incluir os OFF, crie com is_off=true.)

D) catalog_clusters

regulares Regulares

imperdiveis ImperdÃ­veis

chaves Chaves

nfnc NFNC

empty Empty

E) catalog_contract_status

Campos extra: counts_as_operating

triagem TRIAGEM | false

onboarding ONBOARDING | false

ativo ATIVO | true

pausado PAUSADO | false

em_cancelamento EM CANCELAMENTO | true (operando)

entregue ENTREGUE | false

cancelado CANCELADO | false

F) catalog_account_health

saudavel SaudÃ¡vel

atencao AtenÃ§Ã£o

insatisfeito Insatisfeito

G) catalog_roi_bucket

lt_2 ROI < 2

btw_2_4 ROI 2â€“4

gt_4 ROI > 4

no_data Sem dado

H) catalog_churn_reason

resultado_fraco Resultado fraco / ROI

falta_verba Falta de verba

in_house Contratou in-house / troca interna

concorrente Troca por concorrente

qualidade_entrega Problemas de entrega / qualidade

comunicacao Problemas de comunicaÃ§Ã£o

timing Timing / pausa estratÃ©gica

inadimplencia InadimplÃªncia

outros Outros

2.2 Seed do â€œField Registryâ€ (campos do sistema)

Agora crie os campos com field_key imutÃ¡vel. SugestÃ£o de padrÃ£o: client.*, contract.*, health.*.

A) Campos de CLIENTE

ObrigatÃ³rios

client.name | string | required

client.cluster_id | enum | required | catalog=clusters

Recomendados

client.health_status_id | enum | default=atencao | catalog=account_health

client.cnpj | string

client.contact_name | string

client.contact_phone | string

client.email | string

client.instagram | string

client.site | string

client.notes | string (ou text)

B) Campos de CONTRATO

ObrigatÃ³rios

contract.client_id | fk | required

contract.product_id | enum | required | catalog=products

contract.plan_id | enum | required | catalog=plans

contract.squad_id | enum | required | catalog=squads

contract.status_id | enum | required | catalog=contract_status

contract.mrr_value_cents | currency (int) | default=0

contract.one_time_value_cents | currency (int) | default=0

contract.first_payment_at | date (required se mrr>0)

Datas importantes

contract.cancel_request_at | date

contract.last_operation_day | date

contract.pause_at | date

contract.resume_at | date

contract.delivered_at | date

Ownership

contract.sales_owner_user_id | user

contract.cs_owner_user_id | user

contract.delivery_owner_user_id | user

contract.designer_owner_user_id | user

SaÃºde / ROI real (opcional mas forte)

contract.ads_investment_cents_monthly | currency

contract.client_revenue_cents_monthly | currency

Churn intelligence

contract.churn_reason_id | enum | catalog=churn_reason

contract.churn_subreason | string

contract.retention_possible | enum (high/medium/low)

contract.retained_flag | bool

contract.waive_churn_flag | bool

2.3 ValidaÃ§Ãµes mÃ­nimas (criar agora)

Coloque essas regras no teu Admin como â€œbusiness rulesâ€:

Regra 1 â€” Tipo do contrato

is_recurring = (mrr_value_cents > 0)

is_one_time = (one_time_value_cents > 0)

Se is_recurring=false e is_one_time=false â†’ bloquear salvar (ou salvar como draft, sua escolha).

Regra 2 â€” Data obrigatÃ³ria em recorrente

Se mrr_value_cents > 0 entÃ£o first_payment_at obrigatÃ³rio.

Regra 3 â€” CoerÃªncia de cancelamento

Se status_id = em_cancelamento entÃ£o cancel_request_at obrigatÃ³rio.

Se status_id = cancelado entÃ£o last_operation_day obrigatÃ³rio.

Regra 4 â€” Entrega pontual

Se plan_id = projeto_pontual OU one_time_value_cents > 0, entÃ£o:

Quando status virar entregue, delivered_at obrigatÃ³rio.

Regra 5 â€” Ownership

Se status ativo ou em_cancelamento â†’ cs_owner_user_id obrigatÃ³rio.

2.4 Resultado esperado (o â€œdoneâ€ desta etapa)

VocÃª vai terminar com:

CatÃ¡logos prontos e consistentes

Campos do sistema registrados (com tipos, required e validaÃ§Ãµes)

Admin preparado pra virar a fonte de verdade